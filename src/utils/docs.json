{
    "openapi": "3.0.0",
    "info": {
        "title": "File Server API Documentation",
        "version": "1.0.0",
        "contact": {
            "name": "API Support",
            "url": "https://file-server-api.vercel.app/api/",
            "email": "richard.bouaro@amalitech.org"
        }
    },
    "servers": [
        {
            "url": "https://file-server-api.vercel.app/",
            "description": "File Server API Documentation"
        }
    ],
    "components": {
        "securitySchemas": {
            "bearerAuth": {
                "type": "https",
                "schema": "token",
                "bearerFormat": "jwt"
            }
        },
        "schemas": {
            "Error_Response": {
                "type": "object",
                "properties": {
                    "code": {
                        "type": "string"
                    },
                    "message": {
                        "type": "string"
                    },
                    "type": {
                        "type": "string",
                        "default": "error"
                    }
                }
            },
            "Validation_Error_Response": {
                "type": "object",
                "properties": {
                    "code": {
                        "type": "string"
                    },
                    "message": {
                        "type": "string"
                    },
                    "type": {
                        "type": "string",
                        "default": "error"
                    },
                    "error": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "validation": {
                                    "type": "string"
                                },
                                "message": {
                                    "type": "string"
                                },
                                "path": {
                                    "type": "array",
                                    "items": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "Document_Stats": {
                "type": "object",
                "properties": {
                    "folders": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "ext": {
                                    "type": "string"
                                },
                                "count": {
                                    "type": "number"
                                },
                                "total_count": {
                                    "type": "number"
                                }
                            }
                        }
                    },
                    "performing": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "_id": {
                                    "type": "string"
                                },
                                "title": {
                                    "type": "string"
                                },
                                "description": {
                                    "type": "string"
                                },
                                "name": {
                                    "type": "string"
                                },
                                "downloaded_count": {
                                    "type": "number"
                                },
                                "emailed_count": {
                                    "type": "number"
                                },
                                "size": {
                                    "type": "number"
                                },
                                "ext": {
                                    "type": "string"
                                },
                                "created_at": {
                                    "type": "string"
                                },
                                "updated_at": {
                                    "type": "string"
                                },
                                "downloaded_emailed": {
                                    "type": "number"
                                }
                            }
                        }
                    },
                    "avg_file_size": {
                        "type": "number"
                    }
                }
            },
            "Document": {
                "type": "object",
                "properties": {
                    "_id": {
                        "type": "string"
                    },
                    "title": {
                        "type": "string"
                    },
                    "description": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    },
                    "downloaded_count": {
                        "type": "number"
                    },
                    "emailed_count": {
                        "type": "number"
                    },
                    "size": {
                        "type": "number"
                    },
                    "ext": {
                        "type": "string"
                    },
                    "created_at": {
                        "type": "string"
                    },
                    "updated_at": {
                        "type": "string"
                    }
                }
            },
            "Documents": {
                "type": "array",
                "items": {
                    "$ref": "#/components/schemas/Document"
                }
            },
            "User": {
                "type": "object",
                "properties": {
                    "_id": {
                        "type": "string"
                    },
                    "surname": {
                        "type": "string"
                    },
                    "other_names": {
                        "type": "string"
                    },
                    "email": {
                        "type": "string"
                    },
                    "role": {
                        "type": "string"
                    },
                    "must_change_password": {
                        "type": "boolean",
                        "default": false
                    },
                    "created_at": {
                        "type": "string"
                    },
                    "updated_at": {
                        "type": "string"
                    }
                }
            },
            "Users": {
                "type": "array",
                "items": {
                    "type": "object",
                    "properties": {
                        "_id": {
                            "type": "string"
                        },
                        "surname": {
                            "type": "string"
                        },
                        "other_names": {
                            "type": "string"
                        },
                        "email": {
                            "type": "string"
                        },
                        "role": {
                            "type": "string"
                        },
                        "must_change_password": {
                            "type": "boolean"
                        },
                        "created_at": {
                            "type": "string"
                        }
                    }
                }
            }
        }
    },
    "security": [
        {
            "bearerAuth": []
        }
    ],
    "paths": {
        "/api/users": {
            "get": {
                "tags": [
                    "Users"
                ],
                "summary": "Get all users",
                "parameters": [
                    {
                        "name": "token",
                        "in": "header",
                        "description": "Access token for authentication",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "httpOnly": true
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "USERS",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "code": {
                                            "type": "string"
                                        },
                                        "message": {
                                            "type": "string"
                                        },
                                        "type": {
                                            "type": "string",
                                            "default": "success"
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/Users"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "UNAUTHORIZED",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "INTERNAL SERVER ERROR",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/users/auth": {
            "post": {
                "tags": [
                    "Users"
                ],
                "summary": "Authenticate a user",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "required": true
                                    },
                                    "password": {
                                        "type": "string",
                                        "required": true
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "LOGIN SUCCESS",
                        "headers": {
                            "Set-Cookie": {
                                "description": "Session cookie containing JWT token. HttpOnly cookies; secure=true",
                                "schema": {
                                    "type": "string"
                                },
                                "example": "token=jwt_token_value; HttpOnly; Secure"
                            }
                        },
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "code": {
                                            "type": "string"
                                        },
                                        "message": {
                                            "type": "string"
                                        },
                                        "type": {
                                            "type": "string",
                                            "default": "success"
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/User"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "VALIDATION ERROR",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Validation_Error_Response"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "UNAUTHORIZED",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "INTERNAL SERVER ERROR",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/users/register": {
            "post": {
                "tags": [
                    "Users"
                ],
                "summary": "Register a user",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "surname": {
                                        "type": "string",
                                        "default": "Smith"
                                    },
                                    "other_names": {
                                        "type": "string",
                                        "default": "Michael Owusu"
                                    },
                                    "email": {
                                        "type": "string",
                                        "default": "msmith@example.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "default": "oWusu247",
                                        "format": "password"
                                    },
                                    "confirmPassword": {
                                        "type": "string",
                                        "default": "oWusu247",
                                        "format": "password"
                                    }
                                },
                                "required": [
                                    "surname",
                                    "other_names",
                                    "email",
                                    "password",
                                    "confirmPassword"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "CREATED",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "code": {
                                            "type": "string"
                                        },
                                        "message": {
                                            "type": "string"
                                        },
                                        "type": {
                                            "type": "string",
                                            "default": "success"
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/User"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "BAD REQUEST",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "CONFLICT",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "INTERNAL SERVER ERROR",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/users/add/new": {
            "post": {
                "tags": [
                    "Users"
                ],
                "summary": "Create a user - this can only be performed by admins",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "surname": {
                                        "type": "string",
                                        "default": "Smith"
                                    },
                                    "other_names": {
                                        "type": "string",
                                        "default": "Michael Owusu"
                                    },
                                    "email": {
                                        "type": "string",
                                        "default": "msmith@example.com"
                                    },
                                    "role": {
                                        "type": "string",
                                        "default": "user",
                                        "enum": [
                                            "admin",
                                            "user"
                                        ]
                                    }
                                },
                                "required": [
                                    "surname",
                                    "other_names",
                                    "email",
                                    "role"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "CREATED",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "code": {
                                            "type": "string"
                                        },
                                        "message": {
                                            "type": "string"
                                        },
                                        "type": {
                                            "type": "string",
                                            "default": "success"
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/User"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "BAD REQUEST",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "CONFLICT",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "INTERNAL SERVER ERROR",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/users/logout": {
            "get": {
                "tags": [
                    "Users"
                ],
                "summary": "Logout user",
                "parameters": [
                    {
                        "name": "token",
                        "in": "header",
                        "description": "Access token for authentication",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "httpOnly": true
                        }
                    }
                ],
                "requestBody": {
                    "required": false
                },
                "responses": {
                    "200": {
                        "description": "LOGOUT SUCCESS",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "code": {
                                            "type": "string",
                                            "default": "LOGGED_OUT"
                                        },
                                        "message": {
                                            "type": "string",
                                            "default": "Logged out successfully"
                                        },
                                        "type": {
                                            "type": "string",
                                            "default": "success"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "INTERNAL SERVER ERROR",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "code": {
                                            "type": "string"
                                        },
                                        "message": {
                                            "type": "string"
                                        },
                                        "type": {
                                            "type": "string",
                                            "default": "error"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/users/password/change": {
            "put": {
                "tags": [
                    "Users"
                ],
                "summary": "Change user password",
                "parameters": [
                    {
                        "name": "token",
                        "in": "header",
                        "description": "Access token for authentication",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "httpOnly": true
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "currentPassword": {
                                        "type": "string",
                                        "format": "password"
                                    },
                                    "newPassword": {
                                        "type": "string",
                                        "format": "password"
                                    },
                                    "confirmPassword": {
                                        "type": "string",
                                        "format": "password"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "SUCCESS",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "code": {
                                            "type": "string"
                                        },
                                        "message": {
                                            "type": "string"
                                        },
                                        "type": {
                                            "type": "string",
                                            "default": "success"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "BAD_REQUEST",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "anyOf": [
                                        {
                                            "$ref": "#/components/schemas/Error_Response"
                                        },
                                        {
                                            "$ref": "#/components/schemas/Validation_Error_Response"
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "UNAUTHORIZED",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "INTERNAL SERVER ERROR",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/users/information/update": {
            "put": {
                "tags": [
                    "Users"
                ],
                "summary": "Update user information",
                "parameters": [
                    {
                        "name": "token",
                        "in": "header",
                        "description": "Access token for authentication",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "httpOnly": true
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "surname": {
                                        "type": "string"
                                    },
                                    "other_names": {
                                        "type": "string"
                                    },
                                    "email": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "SUCCESS",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "code": {
                                            "type": "string"
                                        },
                                        "message": {
                                            "type": "string"
                                        },
                                        "type": {
                                            "type": "string",
                                            "default": "success"
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/User"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "BAD_REQUEST",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "anyOf": [
                                        {
                                            "$ref": "#/components/schemas/Error_Response"
                                        },
                                        {
                                            "$ref": "#/components/schemas/Validation_Error_Response"
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "UNAUTHORIZED",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "INTERNAL SERVER ERROR",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/users/password/reset": {
            "put": {
                "tags": [
                    "Users"
                ],
                "summary": "Recover lost password thus password reset",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "email": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "SUCCESS",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "code": {
                                            "type": "string"
                                        },
                                        "message": {
                                            "type": "string"
                                        },
                                        "type": {
                                            "type": "string",
                                            "default": "success"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "BAD REQUEST",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "INTERNAL SERVER ERROR",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/users/{_id}": {
            "get": {
                "tags": [
                    "Users"
                ],
                "summary": "Get a particular user",
                "parameters": [
                    {
                        "name": "_id",
                        "in": "path",
                        "description": "User to retrieve",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "token",
                        "in": "header",
                        "description": "Access token for authentication",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "httpOnly": true
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "USER",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "code": {
                                            "type": "string"
                                        },
                                        "message": {
                                            "type": "string"
                                        },
                                        "type": {
                                            "type": "string",
                                            "default": "success"
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/User"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "BAD_REQUEST",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "UNAUTHORIZED",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "INTERNAL SERVER ERROR",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/documents": {
            "get": {
                "tags": [
                    "Documents"
                ],
                "summary": "Get all documents",
                "parameters": [
                    {
                        "name": "token",
                        "in": "header",
                        "description": "Access token for authentication",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "httpOnly": true
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Documents",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "code": {
                                            "type": "string"
                                        },
                                        "message": {
                                            "type": "string"
                                        },
                                        "type": {
                                            "type": "string",
                                            "default": "success"
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/Documents"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "UNAUTHORIZED",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "INTERNAL SERVER ERROR",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/documents/upload": {
            "post": {
                "tags": [
                    "Documents"
                ],
                "summary": "Upload new document",
                "parameters": [
                    {
                        "name": "token",
                        "in": "header",
                        "description": "Access token for authentication",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "httpOnly": true
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "title": {
                                        "type": "string"
                                    },
                                    "description": {
                                        "type": "string"
                                    },
                                    "document": {
                                        "type": "string",
                                        "format": "binary"
                                    }
                                },
                                "required": [
                                    "title",
                                    "description",
                                    "document"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "CREATED",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "code": {
                                            "type": "string"
                                        },
                                        "message": {
                                            "type": "string"
                                        },
                                        "type": {
                                            "type": "string",
                                            "default": "success"
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/Document"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "BAD REQUEST",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "oneOf": [
                                        {
                                            "$ref": "#/components/schemas/Validation_Error_Response"
                                        },
                                        {
                                            "$ref": "#/components/schemas/Error_Response"
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "UNAUTHORIZED",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "INTERNAL SERVER ERROR",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/documents/destroy/{_id}": {
            "delete": {
                "tags": [
                    "Documents"
                ],
                "summary": "Delete a particular document",
                "parameters": [
                    {
                        "name": "_id",
                        "in": "path",
                        "description": "Document to delete",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "token",
                        "in": "header",
                        "description": "Access token for authentication",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "httpOnly": true
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "DELETED DOCUMENT",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "code": {
                                            "type": "string"
                                        },
                                        "message": {
                                            "type": "string"
                                        },
                                        "type": {
                                            "type": "string",
                                            "default": "success"
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/Document"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "BAD_REQUEST",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "UNAUTHORIZED",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "INTERNAL SERVER ERROR",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/documents/update/{_id}": {
            "put": {
                "tags": [
                    "Documents"
                ],
                "summary": "Modify document information",
                "parameters": [
                    {
                        "name": "_id",
                        "in": "path",
                        "description": "Document to modify",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "token",
                        "in": "header",
                        "description": "Access token for authentication",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "httpOnly": true
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "title": {
                                        "type": "string"
                                    },
                                    "description": {
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "title",
                                    "description"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "MODIFIED DOCUMENT",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "code": {
                                            "type": "string"
                                        },
                                        "message": {
                                            "type": "string"
                                        },
                                        "type": {
                                            "type": "string",
                                            "default": "success"
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/Document"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "BAD REQUEST",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "UNAUTHORIZED",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "INTERNAL SERVER ERROR",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/documents/search": {
            "post": {
                "tags": [
                    "Documents"
                ],
                "summary": "Search for documents",
                "parameters": [
                    {
                        "name": "token",
                        "in": "header",
                        "description": "Access token for authentication",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "httpOnly": true
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "search": {
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "search"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "MATCHED DOCUMENTS",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "code": {
                                            "type": "string"
                                        },
                                        "message": {
                                            "type": "string"
                                        },
                                        "type": {
                                            "type": "string",
                                            "default": "success"
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/Documents"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "BAD REQUEST",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "UNAUTHORIZED",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "INTERNAL SERVER ERROR",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/documents/stats": {
            "get": {
                "tags": [
                    "Documents"
                ],
                "summary": "Get stats on documents",
                "parameters": [
                    {
                        "name": "token",
                        "in": "header",
                        "description": "Access token for authentication",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "httpOnly": true
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Documents",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "code": {
                                            "type": "string"
                                        },
                                        "message": {
                                            "type": "string"
                                        },
                                        "type": {
                                            "type": "string",
                                            "default": "success"
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/Document_Stats"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "UNAUTHORIZED",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "INTERNAL SERVER ERROR",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/documents/download/{_id}": {
            "get": {
                "tags": [
                    "Documents"
                ],
                "summary": "Download a particular document",
                "parameters": [
                    {
                        "name": "_id",
                        "in": "path",
                        "description": "Document to download",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "token",
                        "in": "header",
                        "description": "Access token for authentication",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "httpOnly": true
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "DOCUMENT READY",
                        "content": {
                            "application/octet-stream": {
                                "schema": {
                                    "type": "string",
                                    "format": "binary"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "BAD_REQUEST",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "UNAUTHORIZED",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "INTERNAL SERVER ERROR",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/documents/recent/documents": {
            "get": {
                "tags": [
                    "Documents"
                ],
                "summary": "Get all documents actives by a specific user",
                "parameters": [
                    {
                        "name": "token",
                        "in": "header",
                        "description": "Access token for authentication",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "httpOnly": true
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Documents",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "code": {
                                            "type": "string"
                                        },
                                        "message": {
                                            "type": "string"
                                        },
                                        "type": {
                                            "type": "string",
                                            "default": "success"
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/Documents"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "UNAUTHORIZED",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "INTERNAL SERVER ERROR",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/documents/email/{_id}": {
            "get": {
                "tags": [
                    "Documents"
                ],
                "summary": "Email a particular document to a user",
                "parameters": [
                    {
                        "name": "_id",
                        "in": "path",
                        "description": "Document to be emailed",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "token",
                        "in": "header",
                        "description": "Access token for authentication",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "httpOnly": true
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "DOCUMENT SENT",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "code": {
                                            "type": "string"
                                        },
                                        "message": {
                                            "type": "string"
                                        },
                                        "type": {
                                            "type": "string",
                                            "default": "success"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "BAD_REQUEST",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "UNAUTHORIZED",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "INTERNAL SERVER ERROR",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/documents/{_id}": {
            "get": {
                "tags": [
                    "Documents"
                ],
                "summary": "Get a particular document",
                "parameters": [
                    {
                        "name": "_id",
                        "in": "path",
                        "description": "Document to retrieve",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "token",
                        "in": "header",
                        "description": "Access token for authentication",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "httpOnly": true
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Document",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "code": {
                                            "type": "string"
                                        },
                                        "message": {
                                            "type": "string"
                                        },
                                        "type": {
                                            "type": "string",
                                            "default": "success"
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/Document"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "BAD_REQUEST",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "UNAUTHORIZED",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "INTERNAL SERVER ERROR",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error_Response"
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "tags": []
}